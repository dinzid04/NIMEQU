extends layout

block content
  div(class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 animate-fade-in")
    //- Page Header
    section(class="mb-8")
      div(class="text-center md:text-left")
        h1(class="text-3xl md:text-4xl font-extrabold text-white") Jelajahi Berdasarkan Genre
        p(class="mt-2 text-lg text-gray-400") Temukan anime yang sesuai dengan selera Anda.

    //- Genre List
    if genres && genres.length > 0
      div(class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4")
        each genre, index in genres
          div(class="animate-slide-up" style=`animation-delay: ${index * 30}ms;`)
            a(href=`/genres/${genre.slug}` class="group block bg-gray-900 rounded-xl p-4 text-center border border-gray-800 hover:border-primary-700 hover:bg-primary-900/30 transition-all duration-300 transform hover:-translate-y-1")
              h3(class="font-bold text-white group-hover:text-primary-300 transition-colors")= genre.name
              if genre.count
                p(class="text-sm text-gray-500 mt-1") #{genre.count} anime
    else
      //- Fallback if genres are not loaded from API
      div(class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4")
        - const fallbackGenres = ['Action', 'Adventure', 'Comedy', 'Drama', 'Fantasy', 'Magic', 'Music', 'Mystery', 'Psychological', 'Romance', 'Sci-Fi', 'Slice of Life', 'Sports', 'Supernatural', 'Thriller']
        each genre, index in fallbackGenres
          div(class="animate-slide-up" style=`animation-delay: ${index * 30}ms;`)
            a(href=`/genres/${genre.toLowerCase().replace(/ /g, '-')}` class="group block bg-gray-900 rounded-xl p-4 text-center border border-gray-800 hover:border-primary-700 hover:bg-primary-900/30 transition-all duration-300 transform hover:-translate-y-1")
              h3(class="font-bold text-white group-hover:text-primary-300 transition-colors")= genre

    //- Ads
    if adSlots && adSlots.contentBottom && adSlots.contentBottom.length > 0
      div(class="mt-12")
        each ad in adSlots.contentBottom
          div(class="ad-slot bg-gray-800 rounded-xl shadow-lg")!= ad.content