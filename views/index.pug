extends layout

block content
  if featuredAnime && featuredAnime.length > 0
    section(class="hero-section relative mb-8")
      div(class="swiper hero-slider")
        div(class="swiper-wrapper")
          each anime in featuredAnime
            div(class="swiper-slide relative bg-cover bg-center", class="h-[50vh] md:h-[70vh]", style=`background-image: url(${anime.poster})`)
              div(class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/60 to-transparent")
              div(class="container mx-auto px-4 h-full flex items-end pb-16")
                div(class="text-white max-w-2xl")
                  h2(class="text-3xl md:text-5xl font-bold mb-4")= anime.title
                  p(class="text-base text-gray-300 line-clamp-3 mb-6")= anime.synopsis || 'No synopsis available.'
                  a(href=`/anime/${anime.slug}` class="inline-block bg-primary-600 hover:bg-primary-700 text-white font-bold py-3 px-6 rounded-lg transition-colors") Watch Now
        div(class="swiper-pagination hero-pagination")
      div(class="swiper-button-prev hero-nav left-4")
      div(class="swiper-button-next hero-nav right-4")

  div(class="container mx-auto px-4 py-6")
    div(class="grid grid-cols-1 lg:grid-cols-4 gap-8")
      div(class="lg:col-span-3")
        if ongoingAnime && ongoingAnime.length > 0
          section(class="mb-12")
            div(class="flex items-center justify-between mb-6")
              h2(class="text-2xl font-bold text-gray-900 dark:text-gray-100") Ongoing Anime
              a(href="/ongoing" class="text-primary-600 dark:text-primary-400 hover:underline font-medium") View All
            div(class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6")
              each anime in ongoingAnime.slice(0, 8)
                include ./_partials/anime-card.pug

        if completeAnime && completeAnime.length > 0
          section(class="mb-12")
            div(class="flex items-center justify-between mb-6")
              h2(class="text-2xl font-bold text-gray-900 dark:text-gray-100") Completed Anime
              a(href="/complete" class="text-primary-600 dark:text-primary-400 hover:underline font-medium") View All
            div(class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6")
              each anime in completeAnime.slice(0, 8)
                include ./_partials/anime-card.pug

      div(class="lg:col-span-1")
        include ./_partials/sidebar.pug

block scripts
  script.
    document.addEventListener('DOMContentLoaded', function () {
      if (document.querySelector('.hero-slider')) {
        const heroSlider = new Swiper('.hero-slider', {
          loop: true,
          effect: 'fade',
          fadeEffect: {
            crossFade: true
          },
          autoplay: {
            delay: 5000,
            disableOnInteraction: false,
          },
          pagination: {
            el: '.hero-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      }
    });